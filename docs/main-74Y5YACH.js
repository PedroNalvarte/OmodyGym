import{A as u,B as Z,C as L,D as B,E as _,F as Q,G as J,H as Y,I as K,J as $,K as E,L as F,M as V,N as I,O as N,P as a0,Q as l0,R as h0,S as i0,T as t0,U as H,V as s0,W as v0,X as C,Y as r0,a as S,b as q,c as D,d as P,e as R,f as T,g as U,h as r,i as j,j as m,k as z,l as e,m as f,n as M,o as w,p as x,q as A,r as c,s,t as v,u as g,v as X,w as W,x as G,y as O,z as d}from"./chunk-DKE535CN.js";function b0(l,a){l&1&&g(0,"i",17)}function z0(l,a){if(l&1&&(s(0,"p",15),A(1,b0,1,0,"i",16),d(2," Las credenciales son incorrectas "),v()),l&2){let n=G();w(),c("ngIf",n.invalidCredentials)}}function f0(l,a){l&1&&g(0,"shared-loading-spinner")}var e0=(()=>{let a=class a{ngOnInit(){this.triggerSubscription=this.authService.getTriggerComponentMethodObservable().subscribe(()=>{this.handleUnauthorized()})}constructor(h,i){this.authService=h,this.cdr=i,this.processingRequest=!1,this.invalidCredentials=!1,this.credentials={username:"",password:""},this.triggerSubscription=new S}login(){this.invalidCredentials=!1,this.processingRequest=!0,this.authService.login(this.credentials).pipe(T(h=>console.log("Resultado antes de catchError:",h)),R(()=>this.processingRequest=!1),P(h=>{if(h.status===401)return this.handleUnauthorized(),q;throw h})).subscribe()}handleUnauthorized(){this.invalidCredentials=!0,this.cdr.markForCheck()}};a.\u0275fac=function(i){return new(i||a)(x(V),x(B))},a.\u0275cmp=z({type:a,selectors:[["login-main-page"]],decls:20,vars:8,consts:[["loginForm","ngForm"],[1,"login-container","row","align-items-center","d-flex","justify-content-center"],[1,"col","col-md-4"],[1,"card","custom-card-color","p-5","col","col-md-3"],[1,"pb-3"],[3,"ngSubmit"],[1,"form-floating","mb-3"],["name","dni","type","text","id","floatingInput","placeholder","00000000","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","floatingInput",1,"tipoLetra"],[1,"form-floating"],["name","contra","type","password","id","floatingPassword","placeholder","Contrase\xF1a","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","floatingPassword",1,"tipoLetra"],["class","credenciales-i",4,"ngIf"],[4,"ngIf"],["type","submit",1,"btn","form-control","mt-4",3,"disabled","hidden"],[1,"credenciales-i"],["class","bi-exclamation-circle",4,"ngIf"],[1,"bi-exclamation-circle"]],template:function(i,t){if(i&1){let b=X();s(0,"div",1),g(1,"div",2),s(2,"div",3)(3,"h2",4),d(4,"INICIAR SESI\xD3N"),v(),s(5,"form",5,0),W("ngSubmit",function(){return f(b),M(t.login())}),s(7,"div",6)(8,"input",7),L("ngModelChange",function(o){return f(b),Z(t.credentials.username,o)||(t.credentials.username=o),M(o)}),v(),s(9,"label",8),d(10,"N\xFAmero de documento"),v()(),s(11,"div",9)(12,"input",10),L("ngModelChange",function(o){return f(b),Z(t.credentials.password,o)||(t.credentials.password=o),M(o)}),v(),s(13,"label",11),d(14,"Contrase\xF1a"),v()(),A(15,z0,3,1,"p",12)(16,f0,1,0,"shared-loading-spinner",13),s(17,"button",14),d(18," Ingresar "),v()()(),g(19,"div",2),v()}if(i&2){let b=O(6);w(8),u("ngModel",t.credentials.username),c("disabled",t.processingRequest),w(4),u("ngModel",t.credentials.password),c("disabled",t.processingRequest),w(3),c("ngIf",t.invalidCredentials),w(),c("ngIf",t.processingRequest),w(),c("disabled",!b.valid)("hidden",t.processingRequest)}},dependencies:[_,i0,I,N,a0,t0,h0,l0,s0],styles:['@font-face{font-family:"Baloo Bhai 2";font-style:normal;font-weight:400 800;font-display:swap;src:url(https://fonts.gstatic.com/s/baloobhai2/v28/sZlDdRSL-z1VEWZ4YNA7Y5IHbd7nuH0.woff2) format("woff2");unicode-range:U+0951-0952,U+0964-0965,U+0A80-0AFF,U+200C-200D,U+20B9,U+25CC,U+A830-A839}@font-face{font-family:"Baloo Bhai 2";font-style:normal;font-weight:400 800;font-display:swap;src:url(https://fonts.gstatic.com/s/baloobhai2/v28/sZlDdRSL-z1VEWZ4YNA7Y5IHed7nuH0.woff2) format("woff2");unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:"Baloo Bhai 2";font-style:normal;font-weight:400 800;font-display:swap;src:url(https://fonts.gstatic.com/s/baloobhai2/v28/sZlDdRSL-z1VEWZ4YNA7Y5IHeN7nuH0.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:"Baloo Bhai 2";font-style:normal;font-weight:400 800;font-display:swap;src:url(https://fonts.gstatic.com/s/baloobhai2/v28/sZlDdRSL-z1VEWZ4YNA7Y5IHdt7n.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.login-container[_ngcontent-%COMP%]{height:100vh;background-image:linear-gradient(#05070cbf,#05070cbf),url(https://media.discordapp.net/attachments/1228834360367775860/1228834650261295186/image_10.png?ex=662d7c73&is=661b0773&hm=a71a8ca8bf91496b1b61efb1142944e65e46e02ecfffc17e310f65f9e319afed&=&format=webp&quality=lossless&width=1000&height=585);background-repeat:no-repeat;background-size:cover}.custom-card-color[_ngcontent-%COMP%]{background-color:#d9d9d9;text-align:center}h2[_ngcontent-%COMP%]{font-family:"Baloo Bhai 2";font-weight:700;color:#00a82d;font-size:2.5em}.tipoLetra[_ngcontent-%COMP%]{font-family:"Baloo Bhai 2",sans-serif!important;color:#615e5e}.credenciales-i[_ngcontent-%COMP%]{text-align:left;color:red}.btn[_ngcontent-%COMP%]{background-color:#30d72d;border-color:#30d72d;color:#fff}']});let l=a;return l})();var o0=(()=>{let a=class a{constructor(h,i){this.authService=h,this.router=i}canLoad(){return this.authService.isLoggedIn$.pipe(D(h=>h||this.router.createUrlTree(["/login"])))}};a.\u0275fac=function(i){return new(i||a)(m(V),m(E))},a.\u0275prov=U({token:a,factory:a.\u0275fac,providedIn:"root"});let l=a;return l})();var x0=[{path:"",pathMatch:"full",redirectTo:"inicio"},{path:"login",component:e0},{path:"",canLoad:[o0],loadChildren:()=>import("./chunk-OYKPYBRG.js").then(l=>l.HomeModule)}],w0=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e({type:a}),a.\u0275inj=r({imports:[F.forRoot(x0),F]});let l=a;return l})();var c0=(()=>{let a=class a{constructor(){}};a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=z({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(i,t){i&1&&g(0,"router-outlet")},dependencies:[$]});let l=a;return l})();var g0=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e({type:a}),a.\u0275inj=r({imports:[Q,H,C]});let l=a;return l})();var V0=new j("ngx-bootstrap-icons-module-configuration");var k=class{constructor(a){this._icons=a}};var d0=(()=>{class l{static pick(n,h){return{ngModule:l,providers:[{provide:k,multi:!0,useValue:n},{provide:V0,useValue:h}]}}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e({type:l}),l.\u0275inj=r({}),l})();var p0=(()=>{let a=class a{};a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e({type:a,bootstrap:[c0]}),a.\u0275inj=r({imports:[K,w0,H,J,g0,r0,C,v0,d0]});let l=a;return l})();Y().bootstrapModule(p0).catch(l=>console.error(l));
